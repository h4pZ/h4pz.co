<!DOCTYPE html>
<html>
<head>
    {{ partial "head.html" . }}
</head>
<body>
    <main class="row">
        <div class="column">
            <img id="randomImage" src="" alt="Random artistic image from h4pz collection" class="full">
        </div>
        <div class="column">
            <div id="rightinfo">
                <img class="logo" src="/images/h4pz_skull.jpg" alt="h4pz skull logo">

                <p class="socials">H  4  P  Z</p>
                <div class="articles">
                    {{ range .Pages.ByWeight }}
                        <article class="section">
                            <p><a href="{{ .Permalink }}">{{ .Title }}</a></p>
                        </article>
                    {{ end }}
                    <ul class="social-icons">
                        <li><a href="mailto:h4pz@me.pm"><img src="/images/social/email.png" alt="Email contact"></a></li>
                        <li><a href="https://twitter.com/h4pz"><img src="/images/social/twitter.png" alt="Twitter profile"></a></li>
                        <li><a href="https://github.com/h4pz"><img src="/images/social/github.png" alt="GitHub profile"></a></li>
                        <li><a href="https://twitch.com/h4pz"><img src="/images/social/twitch.png" alt="Twitch channel"></a></li>
                        <li><button id="theme-toggle" aria-label="Toggle theme">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2"/><path d="M13 8.129A4 4 0 0 1 15.873 11"/><path d="m19 5-1.256 1.256"/><path d="M20 12h2"/><path d="M9 8a5 5 0 1 0 7 7 7 7 0 1 1-7-7"/></svg>
                        </button></li>
                    </ul>
                </div>
            </div>
        </div>
    </main>
    <script>
    var images = [
        {{ range (readDir "static/images/left_column") }}
            "{{ .Name }}",
        {{ end }}
    ];

    document.addEventListener('DOMContentLoaded', function() {
        var img = document.getElementById('randomImage');
        var column = img.parentElement;
        var randomIndex = Math.floor(Math.random() * images.length);
        var imagePath = '/images/left_column/' + images[randomIndex];
        
        img.src = imagePath;
        column.style.setProperty('--bg-image', 'url(' + imagePath + ')');
    });
    </script>
    <script src="/js/theme-toggle.js"></script>
</body>
</html>

